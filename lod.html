<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="preload" href="./css/style.css" as="style" />
    <link rel="stylesheet" href="./css/style.css">
    <link rel="icon" href="img/logo-icon.webp">
    <link rel="canonical" href="https://vivanewvegas.moddinglinked.com">
    <script src="https://kit.fontawesome.com/baff4f2fd4.js" crossorigin="anonymous"></script>
    <script src="javascript.js"></script>
    <title>LOD Guide | Viva New Vegas</title>
    <meta name="keywords" content="Fallout New Vegas, FNV, Fallout NV, Fallout, New Vegas, The Elder Scrolls, FO4, SSE, SkyrimSE, Skyrim Special Edition, Guide, Mod, Mods, Modding Guide, Bethesda, Stable, Performance, Fix, Help, DXVK, Fast, Easy, Tutorial, Mod Organizer, Nexus, Fallout 4, Skyrim, Tale of Two Wastelands, Wabbajack, FNVLODGen, xLODGen, LOD Guide, Generating LOD, LODGen, Distant Objects">
    <meta name="description" content="General information on LOD and how to generate it with FNVLODgen.">
    <meta http-equiv='content-language' content='en-us'>
    <meta name="twitter:card" value="summary_large_image">
    <meta property="og:site_name" content="ModdingLinked">
    <meta property="og:title" content="Viva New Vegas">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://vivanewvegas.moddinglinked.com">
    <meta property="og:image" content="https://vivanewvegas.moddinglinked.com/img/card.webp">
    <meta property="og:description" content="General information on LOD and how to generate it with FNVLODgen.">
</head>

<body>

    <!-- Titlebar -->
    <div class="titlecontainer">
        <div id="sideButton" onclick="toggleNav()">
            <i class="fa-solid fa-bars"></i>
        </div>
        <img src="./img/logo.webp" alt="Logo">
        <a href="./index.html">Viva New Vegas</a>
        <div class="guideLinks">
            <a href="https://thebestoftimes.moddinglinked.com" target="_blank" rel="nofollow">Tale of Two Wastelands</a>
            <a href="https://themidnightride.moddinglinked.com" target="_blank" rel="nofollow">Fallout 4</a>
            <a href="https://dragonbornsfate.moddinglinked.com" target="_blank" rel="nofollow">Skyrim Special Edition</a>
        </div>
    </div>

    <!-- Left Sidebar -->
    <div id="sidenavLeft">
        <div>
            <ul>
                <li>
                    <a href="./index.html">Home</a>
                </li>
                <li>
                    <a href="./intro.html">Introduction</a>
                </li>
                <li>
                    <a href="./setup.html">Setup</a>
                </li>
                <li>
                    <a href="./mo2.html">MO2</a>
                </li>
                <li>
                    <a href="./utilities.html">Utilities</a>
                </li>
                <li>
                    <a href="./bugfix.html">Bug Fixes</a>
                </li>
                <li>
                    <a href="./basefinish.html">Base Finish</a>
                </li>
            </ul>
            <hr>
        </div>
        <div class="extended-background">
            <ul>
                <h3 id="extended-separator">VNV Extended</h3>
                <li>
                    <a href="./hud.html">User Interface</a>
                </li>
                <li>
                    <a href="./gameplay.html">Gameplay</a>
                </li>
                <li>
                    <a href="./overhauls.html">Overhauls</a>
                </li>
                <li>
                    <a href="./content.html">Content</a>
                </li>
                <li>
                    <a href="./visuals.html">Visuals</a>
                </li>
                <li>
                    <a href="./finish.html">VNVE Finish</a>
                </li>
            </ul>
        </div>
        <div>
            <hr>
            <ul>
                <li>
                    <a href="./appendix.html">Appendix</a>
                </li>
                <ul>
                    <li>
                        <a href="./resources.html">Resources</a>
                    </li>
                    <ul>
                        <li>
                            <a href="./lod.html" class="active">LOD Guide</a>
                        </li>
                    </ul>
                </ul>
                <li>
                    <a href="./faq.html">FAQ</a>
                </li>
                <li>
                    <a href="./avoid-tools.html">Tools to Avoid</a>
                </li>
                <li>
                    <a href="./avoid-mods.html">Mods to Avoid</a>
                </li>
                <li>
                    <a href="./wabbajack.html">Wabbajack</a>
                </li>
            </ul>
        </div>

        <!-- Guide Links -->
        <div class="guideLinks">
            <hr>
            <ul>
                <li>
                    <a href="https://thebestoftimes.moddinglinked.com" target="_blank" rel="nofollow">Tale of Two Wastelands</a>
                </li>
                <li>
                    <a href="https://themidnightride.moddinglinked.com" target="_blank" rel="nofollow">Fallout 4</a>
                </li>
                <li>
                    <a href="https://dragonbornsfate.moddinglinked.com" target="_blank" rel="nofollow">Skyrim Special Edition</a>
                </li>
            </ul>
        </div>

        <!-- Footer -->
        <div id="footer">
            <ul>
                <li>
                    <a href="https://discord.gg/S99Ary5eba" target="_blank">
                        <i class="fab fa-discord"></i>
                    </a>
                </li>
                <li>
                    <a onclick="handleButtonClick(event, paypalMenu)">
                        <i class="fa fa-paypal"></i>
                    </a>
                    <div id="paypalMenu" class="donoMenu" style="display: none;">
                        <a href="https://www.paypal.com/paypalme/VishVadeva" target="_blank">
                            VishVadeva
                        </a>
                        <a href="https://www.paypal.com/paypalme/wallsogb" target="_blank">
                            Wall SoGB
                        </a>
                    </div>
                </li>
                <li>
                    <a onclick="handleButtonClick(event, kofiMenu)">
                        <i class="fa fa-coffee"></i>
                    </a>
                    <div id="kofiMenu" class="donoMenu" style="display: none;">
                        <a href="https://ko-fi.com/vishvadeva" target="_blank">
                            VishVadeva
                        </a>
                        <a href="https://ko-fi.com/wall_sogb" target="_blank">
                            Wall SoGB
                        </a>
                    </div>
                </li>
                <li>
                    <a href="https://github.com/ModdingLinked/Viva-New-Vegas" target="_blank">
                        <i class="fab fa-github"></i>
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <!-- Content -->
    <div class="content">
        <div class="section">
            <h1>LOD Guide</h1>
            <p>Generating/installing new LOD is <b>NOT</b> a requirement, but it will add detail in the distance by increasing the amount of objects that appear in the distance while also making all LOD match your modded textures. You can also generate terrain LOD, which will allow mods that edit the game's landscape to have LOD that reflects their changes. Terrain LOD creates a much larger file size and will take longer to generate.</p>
            <blockquote>Viva New Vegas (even with VNV Extended) does not need new terrain LOD, but this guide will explain both the object and terrain LOD generation to account for custom modlists or if you just want better looking terrain LOD. Extra resources for Tale of Two Wastelands users are included.</blockquote>

            <!-- What is LOD -->
            <p>
                <a>
                    <h2 id="whatIsLod">What is LOD?</h2>
                </a>
            </p>
            <p>
                LOD stands for <strong>Level Of Detail</strong>.
                <br>
                In the context of Bethesda games, LOD mainly refers to <strong>Cell LOD</strong>, not geometry LOD. It's used to represent whole cells (the game's "chunks" of land) in the distance.
            </p>

            <p>
                Cell LOD is <b>not</b> based on distance - it's a binary state of whether cell is either loaded or not. The LOD Block distance settings control the max draw distance of LOD itself, not the point where it begins.
                <br>
                This means that you will see LOD pop-in at the same distance regardless of the settings.
            </p>

            <p>
                Cell LOD is split into 3 categories:
            <ol>
                <li>
                    <strong>Object LOD</strong> - All flagged objects in a group of cells are represented as one geometry block. This LOD has only one constant quality level. Fast generation time.
                </li>
                <li>
                    <strong>Terrain LOD</strong> - These blocks represent landscape of at least 4 cells. This is the only LOD that has quality levels - higher levels cover more cells. Due to the sheer size and texture count, it takes the longest to generate.
                </li>
                <li>
                    <strong>Tree LOD</strong> - All flagged SpeedTree objects are merged into one block. Works similarly to Object LOD, with the difference of using simple 2D planes instead of actual geometry. Fastest to generate.
                    <blockquote>
                        Despite the name, Tree LOD is horrible for trees. It's only good for bushes and other small flora objects, for this reason trees themselves are most often made as Object LOD.
                    </blockquote>
                </li>
            </ol>
            </p>

            <!-- Why generate LOD -->
            <p>
                <a>
                    <h2 id="whyGenerate">Why generate LOD?</h2>
                </a>
            </p>
            <p>
                Bethesda's LOD relies on pregenerated meshes, and thus is inherently static. This decision is due to offering better performance, since game doesn't have to combine meshes and textures of individual objects on the fly.
                <br>
                The drawback is obvious - the game can't reflect any changes made to the landscape or objects on its own. That's where LOD generation comes in.
                <br>
                Thanks to LODGen, you are able to generate LOD meshes that reflect your modded game, and thus have a much more consistent experience.
            </p>
            <p>
                Another reason for generation is due to the fact that the original LOD is pretty low quality, and many objects lack LOD meshes entirely, which causes them to appear out of thin air on cell load.
                <br>
                This is covered by individual LOD mods, which add LOD meshes to objects that lack it and/or improve the quality of existing ones.
            </p>

            <!-- INI Tweaks -->
            <p>
                <a>
                    <h2 id="iniTweaks">INI Tweaks</h2>
                </a>
            </p>
            This will increase the LOD draw distance, and remove jarring transitions of SpeedTree flora.
            <ol>
                <li>Click the <img src="./img/mo2 ini.webp" alt="MO2 INI button"> button at the top of MO2 and select <strong>INI Editor</strong>. </li>
                <li>Select the <strong>FalloutCustom.ini</strong> tab, which should have the settings copied from the <a href="./mo2.html">Mod Organizer 2</a> page.</li>
                <ul>
                    <li>Make sure you are in the <strong>FalloutCustom.ini</strong> tab and <b>NOT</b> the <strong>Custom.ini</strong> tab. </li>
                </ul>
                <li>Paste in the following at the end of the file:</li>
                <textarea readonly="readonly" style="height: 12.5em; width: 95%;" onclick="this.focus();this.select()">
[TerrainManager]
; Increases the maximum distance of LOD
fBlockLoadDistanceLow=100000
fBlockLoadDistance=250000

[SpeedTree]
; Makes flora use the highest LOD quality, removing the pop-in (not related to Tree LOD)
bForceFullLOD=1</textarea>
            </ol>

            <!-- Creating a Separator -->
            <h2>Creating a Separator in MO2.</h2>
            <ol>
                <li>Right-click the empty space in the left pane of MO2 and select <strong>Create separator</strong>.</li>
                <li>Name the separator <strong>LOD</strong>.</li>
            </ol>

            <!-- Installing Resources -->
            <p>
                <a>
                    <h2 id="installingResources">Installing LOD Resources</h2>
                </a>
            </p>
            <ul>
                <li><a href="https://www.nexusmods.com/newvegas/mods/84171" target="_blank">LOD Fixes and Improvements - NVSE</a> - <strong>Main Files - LOD Fixes and Improvements - NVSE</strong></li>
                <li><a href="https://www.nexusmods.com/newvegas/mods/58562" target="_blank">FNVLODGen Resources</a> - <strong>Main Files - FNVLODGen Resources</strong></li>
                <ul>
                    <li><a href="https://www.nexusmods.com/newvegas/mods/58562" target="_blank">FNVLODGen Resources</a> - <strong>Optional Files - Trees LOD Billboards Vanilla</strong></li>
                </ul>
                <li><a href="https://www.nexusmods.com/newvegas/mods/61206" target="_blank">LOD Additions and Improvements</a> - <strong>Main Files - LODadditions</strong></li>
                <ul>
                    <li><a href="https://www.nexusmods.com/newvegas/mods/77945" target="_blank">LOD additions and improvements - YUP Patch</a></li>
                </ul>
                <li><a href="https://www.nexusmods.com/newvegas/mods/70155" target="_blank">TCM's LOD Overhaul</a> - <strong>Main Files - TCM's LOD Overhaul</strong></li>
                <li><a href="https://www.nexusmods.com/newvegas/mods/81751" target="_blank">More LODs Additions and fixes</a> - <strong>Main Files - More LODs Additions and fixes</strong></li>
                <li><a href="https://www.nexusmods.com/newvegas/mods/83316" target="_blank">Wasted LOD - Cliffs of Mojave</a> - <strong>Main Files - Version 1.0</strong></li>
            </ul>
            <blockquote>If you are modding Tale of Two Wastelands, also do the following:
                <ul>
                    <li>Disable or uninstall <strong>FNVLODGen Resources</strong></li>
                    <li>Disable or uninstall <strong>LOD additions and improvements - YUP Patch</strong></li>
                    <li>Install <a href="https://www.nexusmods.com/newvegas/mods/77945" target="_blank">LOD additions and improvements - TTW Patch</a></li>
                    <li>Install <a href="https://www.nexusmods.com/newvegas/mods/79734" target="_blank">Wasted LOD - Cliffs of DC</a></li>
                </ul>
            </blockquote>
            <p>
                <a class="link" href="https://www.nexusmods.com/newvegas/mods/79358" target="_blank">
                    <h2 id="preGennedLod">VNV Pre-Generated LOD</h2>
                </a>
            </p>
            If you installed the entirety of Viva New Vegas and VNV Extended, you can skip manual LOD generation by using this file. Simply install it as a normal mod in MO2 and put it under the resources listed in the previous section (which you still need). You can then ignore the rest of this page.
            <hr>

            <!-- FNVLODGen -->
            <p>
                <a>
                    <h2 id="fnvlodgen">FNVLODGen</h2>
                </a>
            </p>
            <ol>
                <li>Download the latest <strong>xLODGen</strong> from <a href="https://stepmodifications.org/forum/topic/13451-xlodgen-terrain-lod-beta-94-for-fnv-fo3-fo4-fo4vr-tes5-sse-tes5vr-enderal-enderalse/" target="_blank">here</a>.</li>
                <li>Once the download has finished, extract the contents of the archive anywhere outside of the default Windows folders.</li>
                <li>In MO2, select the <img src="./img/mo2 executabes.webp" alt="MO2 executables"> button at the top of MO2 to open the executables menu.</li>
                <li>Click the <strong style="color:rgb(20, 162, 228)">+</strong> at the top of the window and the select <strong>Add from file...</strong></li>
                <li>From the pop-up, navigate to where xLODGen is installed and select <strong>xLODGen.exe</strong>.</li>
                <li>In the <b>Arguments</b> box in the right pane, enter <code>-FNV -O:"C:\Output"</code></li>
            </ol>
            <blockquote>This argument will send the LOD output to a folder called <b>Output</b> on your <b>C</b> drive (the drive Windows is installed on). You can change this path if you would prefer the files to be generated elsewhere (do not use a UAC protected folder or the game folder).</blockquote>
            <ol start="7">
                <li>Select xLODGen from the executables drop-down in the top right of MO2 and click <b>Run</b>.</li>
                <li>Copy the settings below:</li>
                <img src="./img/lod settings 1.webp" alt="LOD settings 1">
            </ol>
            <blockquote>
                <h3>If you want to generate new terrain LOD:</h3>
                <ol>
                    <li>In the right pane, check <strong>Terrain LOD</strong>.</li>
                    <li>Copy the settings below:</li>
                    <img src="./img/lod settings 2.webp" alt="LOD settings 2">
                    <br>
                    <img src="./img/lod settings 3.webp" alt="LOD settings 3">
                    <br>
                    <img src="./img/lod settings 4.webp" alt="LOD settings 4">
                    <br>
                    <img src="./img/lod settings 5.webp" alt="LOD settings 5">
                </ol>
            </blockquote>
            <ol start="9">
                <li>Click <strong>Generate</strong>.</li>
                <li>When complete, the log will stop and at the end you will see a message saying "LOD generation complete", you can now close xLODGen.</li>
            </ol>
            <blockquote>
                <h2 id="settingsDetails">What The Settings Mean</h2>
                <h3>Objects:</h3>
                <ul>
                    <li><strong>Atlas size</strong>: The <a href="https://en.wikipedia.org/wiki/Texture_atlas" target="_blank">atlas</a> is what contains all textures for the <b>Object LOD</b> meshes, increasing its size means that you can have more textures on the atlas (from the new resources) and they could also be higher resolution.
                        <br>
                        Keep in mind that the tool will create this atlas with just the resolution it ends up needing (e.g. if you only need 1024x512 for your atlas, that will be the final resolution of it, what we set is simply the max allowed).
                    </li>
                    <li><strong>Max texture size</strong>: Object textures above this resolution will not be allowed on the atlas, we increase this to make sure everything makes it there.</li>
                </ul>

                <h3>Landscape</h3>
                <ul>
                    <li><strong>Protect borders</strong>: Prevents ugly terrain drops at the cell borders.</li>
                    <li><strong>Size</strong>: As a result of using <a href="https://en.wikipedia.org/wiki/Mipmap" target="_blank">mipmaps</a>, the benefit of high terrain LOD resolutions will be miniscule, 512 on LOD4 and 256 on the next levels will suffice.</li>
                    <li><strong>Bake normal-maps</strong>: Roughens the terrain LOD textures to match the actual terrain's normal map.</li>
                    <li><strong>Mipmap</strong>: Mipmapping textures prevents <a href="https://en.wikipedia.org/wiki/Mipmap#/media/File:Mipmap_Aliasing_Comparison.png" target="_blank">pixel crawling artifacts</a> at a minor VRAM and storage utilization cost.</li>
                    <li><strong>Quality</strong>: This controls the amount of detail in the LOD's geometry. Lower values have more detail and have a minor performance cost because of the amount of triangles in the mesh.</li>
                </ul>
            </blockquote>

            <!-- Installing the LOD -->
            <p>
                <a>
                    <h2 id="installingLod">Installing the LOD</h2>
                </a>
            </p>
            <ol>
                <li>In MO2, right-click on the <i>Overwrite</i> folder at the bottom of the left pane and select <strong>All Mods -> Create empty mod above</strong>.</li>
                <li>Title the mod <strong>FNVLODGen Output</strong>.</li>
                <li>Navigate to where the LOD files were generated and select both the <code>textures</code> and <code>meshes</code> folders.</li>
                <li>Cut them to the <strong>FNVLODGen Output</strong> mod you just created (right-click on the mod and select <b>Open in Explorer)</b>.</li>
                <li>If you are using <a href="./bugfix.html#aqua" target="_blank">Strip Performance Fix</a> <b>and</b> you generated terrain LOD, move Strip Performance Fix <b>below</b> your FNVLODGen Output.</li>
            </ol>
            <blockquote>
                <b>IMPORTANT:</b>
                <br>
                Do not disable the LOD resources you installed previously, the game needs those edits for the LOD to work properly.
            </blockquote>
        </div>

        <!-- Arrows -->
        <div>
            <hr>
            <a href="./resources.html" id="previous" rel="prev" class="navigationArrow"><img class="left mirror" src="./img/arrow.webp" alt="Back Arrow"><span class="arrowText left">Resources</span></a>
        </div>
    </div>

    <!-- Right Sidebar -->
    <div id="sidenavRight">
        <ul>
            <li>
                <a href="#whatIsLod">What is LOD</a>
            </li>
            <li>
                <a href="#whyGenerate">Why generate LOD</a>
            </li>
            <li>
                <a href="#iniTweaks">INI Tweaks</a>
            </li>
            <li>
                <a href="#installingResources">Installing Resources</a>
            </li>
            <li>
                <a href="#preGennedLod">Pre-Generated LOD</a>
            </li>
            <li>
                <a href="#fnvlodgen">FNVLODGen</a>
            </li>
            <li>
                <a href="#installingLod">Installing the LOD</a>
            </li>
        </ul>
    </div>
</body>

</html>